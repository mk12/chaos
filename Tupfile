CC = clang
LEVEL = -O3
OPTIONS = -std=c11 -DNDEBUG
WARNINGS = -Weverything -pedantic
WARNINGS += -Wno-padded -Wno-vla
COMPILE = $(CC) $(LEVEL) $(OPTIONS) $(WARNINGS) -c
LINK = $(CC) $(LEVEL) -lpthread

: foreach src/*.c |> ^ CC %f^ $(COMPILE) %f -o %o |> build/%B.o
: build/*.o |> ^ Linking binary "chaos"^ $(LINK) %f -o %o |> bin/chaos
